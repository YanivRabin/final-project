(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{20106:function(e,t,r){Promise.resolve().then(r.bind(r,4678))},4678:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(57437),o=r(73247),l=r.n(o),i=r(11444),a=r(82351),s=r(85051),c=r(79332);let u=(0,a.xC)({reducer:{[s.iJ.reducerPath]:s.iJ.reducer,[c.tX.reducerPath]:c.tX.reducer},middleware:e=>e().concat(s.iJ.middleware,c.tX.middleware)});var d=r(2265),h=r(71733),x=r(91326),g=r(79806),p=r(60335),f=r(80511),m=r(8655),A=r(9504),j=r(62197),y=r(75462),b=r(76548),Z=r(11853),k=r(91651),C=r(87138),S=r(66648),w=r(16463),v=r(20124),I=r(61096),P=r(80824),O=r(98784);let G=["Home","Workout","Nutrition"],L=["Profile","Logout"],U=[...G,...L];var E=function(){let e=(0,w.usePathname)(),t=(0,w.useRouter)(),[o,l]=d.useState(!1),[i,a]=d.useState(!1),[s,c]=d.useState(null),[u,E]=d.useState(null),[T,q]=d.useState(!1),[z,H]=d.useState(null),[N,W]=d.useState(null);d.useEffect(()=>{H(localStorage.getItem("user")),"/"===e?l(!0):l(!1),"/signIn"===e||"/signUp"===e?a(!0):a(!1)},[e]),d.useEffect(()=>{W(localStorage.getItem("loading"))},[]);let F=()=>{c(null)},R=()=>{E(null)},_=()=>{q(!0)},X=()=>{q(!1)};return(0,n.jsxs)(h.Z,{position:"fixed",sx:{backgroundColor:"#F2F2F7"},children:[(0,n.jsx)(v.ZP,{}),(0,n.jsx)(j.Z,{maxWidth:"xl",children:(0,n.jsxs)(g.Z,{disableGutters:!0,children:[(0,n.jsx)(C.default,{href:"/",passHref:!0,children:(0,n.jsx)(S.default,{src:r(47958),alt:"logo",width:100,height:20,priority:!0})}),o&&(0,n.jsx)(x.Z,{sx:{flexGrow:1,display:"flex",justifyContent:"flex-end"},children:z?(0,n.jsx)(C.default,{href:"/home",passHref:!0,children:(0,n.jsx)(b.Z,{sx:{my:2,color:"#4e2a84",display:"block",margin:"0 10px",fontWeight:"bold"},children:"Home"})}):(0,n.jsx)(C.default,{href:"/signIn",passHref:!0,children:(0,n.jsx)(b.Z,{sx:{my:2,color:"#4e2a84",display:"block",margin:"0 10px",fontWeight:"bold"},children:"Sign In"})})}),!o&&!i&&!N&&(0,n.jsx)(x.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"center"},children:G.map(e=>(0,n.jsx)(C.default,{href:"/".concat(e.toLowerCase()),passHref:!0,children:(0,n.jsx)(b.Z,{sx:{my:2,color:"black",display:"block",margin:"0 10px",textDecoration:"none"},children:e})},e))}),!o&&!i&&!N&&(0,n.jsxs)(x.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},justifyContent:"flex-end",color:"#4e2a84"},children:[(0,n.jsx)(p.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{c(e.currentTarget)},color:"inherit",children:(0,n.jsx)(A.Z,{})}),(0,n.jsx)(m.Z,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!s,onClose:F,sx:{display:{xs:"block",md:"none"}},children:U.map(e=>"Logout"===e?(0,n.jsx)(k.Z,{onClick:()=>{_(),F()},children:(0,n.jsx)(f.Z,{textAlign:"center",children:e})},e):(0,n.jsx)(k.Z,{onClick:()=>{F()},component:C.default,href:"/".concat(e.toLowerCase()),children:(0,n.jsx)(f.Z,{textAlign:"center",children:e})},e))})]}),!o&&!i&&!N&&(0,n.jsxs)(x.Z,{sx:{flexGrow:0,display:{xs:"none",md:"flex"}},children:[(0,n.jsx)(Z.Z,{title:"Open settings",children:(0,n.jsx)(p.Z,{onClick:e=>{E(e.currentTarget)},sx:{p:0},children:(0,n.jsx)(y.Z,{alt:"Remy Sharp",src:""})})}),(0,n.jsx)(m.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!u,onClose:R,children:L.map(e=>"Logout"===e?(0,n.jsx)(k.Z,{onClick:()=>{_(),R()},children:(0,n.jsx)(f.Z,{textAlign:"center",children:e})},e):(0,n.jsx)(C.default,{href:"/".concat(e.toLowerCase()),passHref:!0,children:(0,n.jsx)(k.Z,{onClick:R,children:(0,n.jsx)(f.Z,{textAlign:"center",children:e})})},e))})]})]})}),(0,n.jsxs)(I.Z,{open:T,onClose:X,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,n.jsx)(P.Z,{id:"alert-dialog-title",sx:{textAlign:"center"},children:"Are you sure you want to logout?"}),(0,n.jsxs)(O.Z,{sx:{justifyContent:"space-between"},children:[(0,n.jsx)(b.Z,{onClick:X,sx:{color:"grey"},children:"Cancel"}),(0,n.jsx)(b.Z,{onClick:()=>{q(!1),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("workoutPlan"),localStorage.removeItem("loading"),t.push("/")},sx:{color:"red"},autoFocus:!0,children:"Logout"})]})]})]})};function T(e){let{children:t}=e;return(0,n.jsxs)("html",{lang:"en",children:[(0,n.jsx)("title",{children:"TrAIner"}),(0,n.jsx)("body",{className:l().className,children:(0,n.jsxs)(i.zt,{store:u,children:[(0,n.jsx)("div",{style:{margin:"50px"},children:(0,n.jsx)(E,{})}),(0,n.jsx)("div",{className:"content",children:t})]})})]})}},85051:function(e,t,r){"use strict";r.d(t,{N_:function(){return u},OE:function(){return a},WC:function(){return c},YA:function(){return i},iJ:function(){return l},yd:function(){return s}});var n=r(8507),o=r(36074);let l=(0,n.LC)({reducerPath:"authApi",baseQuery:(0,o.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,n=localStorage.getItem("accessToken");return n&&e.set("authorization","Bearer ".concat(n)),e}}),endpoints:e=>({login:e.mutation({query:e=>({url:"/api/auth/login",method:"POST",body:e})}),signUp:e.mutation({query:e=>({url:"/api/auth/register",method:"POST",body:e})}),googleSignIn:e.mutation({query:e=>({url:"/api/auth/google",method:"POST",body:e})}),getWorkoutForUser:e.query({query:()=>"/api/auth/workout"}),getGoogleApiKey:e.query({query:()=>"/api/auth/googleApiKey"})})}),{useLoginMutation:i,useSignUpMutation:a,useGoogleSignInMutation:s,useGetWorkoutForUserQuery:c,useGetGoogleApiKeyQuery:u}=l},79332:function(e,t,r){"use strict";r.d(t,{Ux:function(){return i},kD:function(){return a},tX:function(){return l}});var n=r(8507),o=r(36074);let l=(0,n.LC)({reducerPath:"feedApi",baseQuery:(0,o.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,n=localStorage.getItem("accessToken");return n&&e.set("authorization","Bearer ".concat(n)),e}}),endpoints:e=>({createWorkoutPlan:e.mutation({query:e=>({url:"/api/gemini/create-workout",method:"POST",body:e})}),updateUser:e.mutation({query:e=>({url:"/api/auth/updateUser",method:"PUT",body:e})})})}),{useCreateWorkoutPlanMutation:i,useUpdateUserMutation:a}=l},47958:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/logo.8f73db94.png",height:190,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAGFBMVEXDw8OlpqLYze3PwuiztLG2trbQuP/Otv59VMAqAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGklEQVR4nGNgZGZjYmRlZWRgYGZnYmFlYAAAAbsALjVvE/gAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}},function(e){e.O(0,[972,874,909,648,917,13,877,300,222,971,23,744],function(){return e(e.s=20106)}),_N_E=e.O()}]);