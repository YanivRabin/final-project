(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{52482:function(e,t,r){Promise.resolve().then(r.bind(r,54218))},48601:function(e,t,r){"use strict";var a=r(57437);r(2265);var i=r(23983);t.Z=e=>{let{label:t,value:r,onChange:n,type:l="text",autoComplete:s="off"}=e;return(0,a.jsx)("div",{className:"textFieldContainer",children:(0,a.jsx)(i.Z,{margin:"normal",fullWidth:!0,label:t,value:r,onChange:n,type:l,autoComplete:s,className:"customTextField"})})}},85051:function(e,t,r){"use strict";r.d(t,{N_:function(){return d},OE:function(){return s},WC:function(){return c},YA:function(){return l},iJ:function(){return n},yd:function(){return o}});var a=r(8507),i=r(36074);let n=(0,a.LC)({reducerPath:"authApi",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,a=localStorage.getItem("accessToken");return a&&e.set("authorization","Bearer ".concat(a)),e}}),endpoints:e=>({login:e.mutation({query:e=>({url:"/api/auth/login",method:"POST",body:e})}),signUp:e.mutation({query:e=>({url:"/api/auth/register",method:"POST",body:e})}),googleSignIn:e.mutation({query:e=>({url:"/api/auth/google",method:"POST",body:e})}),getWorkoutForUser:e.query({query:()=>"/api/auth/workout"}),getGoogleApiKey:e.query({query:()=>"/api/auth/googleApiKey"})})}),{useLoginMutation:l,useSignUpMutation:s,useGoogleSignInMutation:o,useGetWorkoutForUserQuery:c,useGetGoogleApiKeyQuery:d}=n},79332:function(e,t,r){"use strict";r.d(t,{Ux:function(){return l},kD:function(){return s},tX:function(){return n}});var a=r(8507),i=r(36074);let n=(0,a.LC)({reducerPath:"feedApi",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,a=localStorage.getItem("accessToken");return a&&e.set("authorization","Bearer ".concat(a)),e}}),endpoints:e=>({createWorkoutPlan:e.mutation({query:e=>({url:"/api/gemini/create-workout",method:"POST",body:e})}),updateUser:e.mutation({query:e=>({url:"/api/auth/updateUser",method:"PUT",body:e})})})}),{useCreateWorkoutPlanMutation:l,useUpdateUserMutation:s}=n},54218:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var a=r(57437),i=r(2265),n=r(91326),l=r(65002),s=r(29889),o=r(76548),c=r(80511),d=r(58433),u=r(62197),h=r(20124),m=r(94565),x=r(18918),g=r(28743),j=r(44908),Z=r(28549),p=r(94893),y=r(91651),k=r(56065),b=r(45174),v=r(91236),P=r(11929),f=r(48601),w=r(55734),F=r(40468),C=r(16463),S=r(85051),W=r(79332);let R={display:"flex",justifyContent:"center",alignItems:"center",minHeight:"auto",position:"relative"},N={width:"100%",backgroundColor:"white",margin:"50px 0",padding:"20px",position:"relative",border:"3px solid #4e2a84",borderRadius:"10px"},I=["Sign Up","Personal Info","Dietary Restrictions"];function L(){let e=(0,C.useRouter)(),[t,r]=i.useState(""),[L,G]=i.useState(0),[O,T]=i.useState(""),[E,A]=i.useState({firstName:"",lastName:"",email:"",password:"",gender:"",age:25,height:175,weight:70,workoutGoals:" ",daysPerWeek:0,minutesPerWorkout:0,workoutLocation:" ",includeWarmup:!1,includeStreching:!1,dietaryRestrictions:{vegan:!1,vegetarian:!1,pescatarian:!1,glutenFree:!1,dairyFree:!1,nutFree:!1,soyFree:!1,eggFree:!1,shellfishFree:!1,lactoseFree:!1,kosher:!1,halal:!1,other:""},tokens:[]}),[U,{isLoading:q,isError:B}]=(0,S.OE)(),[D,{isLoading:M,data:_}]=(0,W.Ux)(),[z,H]=i.useState(!1),J=e=>{A(t=>({...t,[e.target.name]:e.target.value}))};(0,i.useEffect)(()=>{{let e=localStorage.getItem("email"),t=localStorage.getItem("password"),a=localStorage.getItem("firstName"),i=localStorage.getItem("lastName");e&&t&&a&&i&&(r(e),G(1),A({...E,email:e,password:t,firstName:a,lastName:i}),T(t))}},[]);let K=async()=>{if(z&&H(!1),0===L&&E.password!==O){alert("Passwords do not match");return}if(0===L&&E.password.length<6){alert("Password must be at least 6 characters long");return}if(0===L&&-1===E.email.indexOf("@")){alert("Invalid email");return}if(0===L&&(""===E.firstName||""===E.lastName||""===E.email||""===E.password)||1===L&&(""===E.gender||" "===E.workoutGoals||" "===E.workoutLocation||0===E.daysPerWeek||0===E.minutesPerWorkout)){alert("Please fill in all fields");return}if(L===I.length)try{Q()}catch(e){if(console.error("Login error:",e),t){G(1);return}G(0);return}G(e=>e+1)},Q=async()=>{try{let t;let{user:r,accessToken:a}=await U(E).unwrap();for(void 0!==window&&(localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("accessToken",a));!t;)t=await D(r).unwrap();void 0!==window&&(localStorage.setItem("workoutPlan",JSON.stringify(t)),localStorage.getItem("firstName")&&localStorage.removeItem("firstName"),localStorage.getItem("lastName")&&localStorage.removeItem("lastName"),localStorage.getItem("email")&&localStorage.removeItem("email"),localStorage.getItem("password")&&localStorage.removeItem("password")),e.push("/home")}catch(e){console.error("Sign up error:",e),G(0)}};return(0,a.jsxs)(n.Z,{sx:R,children:[(0,a.jsx)(h.ZP,{}),(0,a.jsx)(u.Z,{component:"main",maxWidth:"xs",children:(0,a.jsxs)(n.Z,{sx:N,children:[(0,a.jsx)(l.Z,{className:"stepper",activeStep:L,connector:(0,a.jsx)(m.Z,{}),children:I.map((e,t)=>(0,a.jsx)(s.Z,{className:"step",children:(0,a.jsx)(w.Z,{className:"stepLabel",children:e})},e))}),(0,a.jsxs)(n.Z,{mt:3,children:[(0,a.jsx)(n.Z,{mt:2,mb:1,children:(e=>{switch(e){case 0:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(f.Z,{label:"First Name",value:E.firstName,onChange:e=>{A({...E,firstName:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(f.Z,{label:"Last Name",value:E.lastName,onChange:e=>{A({...E,lastName:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Email Address",value:E.email,onChange:e=>{A({...E,email:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Password",value:E.password,onChange:e=>{A({...E,password:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Password Confirmation",value:O,onChange:e=>T(e.target.value)})})]})});case 1:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(Z.Z,{children:(0,a.jsxs)(g.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"gender",value:E.gender,id:"gender",onChange:J,children:[(0,a.jsx)(j.Z,{value:"male",control:(0,a.jsx)(x.Z,{}),label:"Male"}),(0,a.jsx)(j.Z,{value:"female",control:(0,a.jsx)(x.Z,{}),label:"Female"})]})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-age",gutterBottom:!0,children:"Age"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:E.age,onChange:(e,t)=>{A({...E,age:t})},"aria-labelledby":"input-slider-age",name:"age",min:0,max:100})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(v.Z,{value:E.age,size:"small",onChange:J,name:"age",inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider-age"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-height",gutterBottom:!0,children:"Height in cm"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:E.height,onChange:(e,t)=>{A({...E,height:t})},"aria-labelledby":"input-slider-height",name:"height",min:0,max:250})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(v.Z,{value:E.height,size:"small",onChange:J,name:"height",inputProps:{step:1,min:0,max:250,type:"number","aria-labelledby":"input-slider-height"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-weight",gutterBottom:!0,children:"Weight in kg"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:E.weight,onChange:(e,t)=>{A({...E,weight:t})},"aria-labelledby":"input-slider-weight",name:"weight",min:0,max:250})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(v.Z,{value:E.weight,size:"small",onChange:J,name:"weight",inputProps:{step:1,min:0,max:250,type:"number","aria-labelledby":"input-slider-weight"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"WorkoutGoals",children:"Workout Goals"}),(0,a.jsxs)(p.Z,{labelId:"WorkoutGoals",id:"workoutGoals",value:E.workoutGoals,name:"workoutGoals",label:"Workout Goals",onChange:e=>{A({...E,workoutGoals:e.target.value})},children:[(0,a.jsx)(y.Z,{value:"Stay in Shape",children:"Stay in Shape"}),(0,a.jsx)(y.Z,{value:"Muscle Gain",children:"Muscle Gain"}),(0,a.jsx)(y.Z,{value:"Caloric Deficit",children:"Caloric Deficit"}),(0,a.jsx)(y.Z,{value:"Flexibility",children:"Flexibility"}),(0,a.jsx)(y.Z,{value:"Endurance",children:"Endurance"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"daysPerWeek",children:"Days per Week"}),(0,a.jsxs)(p.Z,{labelId:"daysPerWeek",id:"daysPerWeek",name:"daysPerWeek",value:E.daysPerWeek,label:"Days per Week",onChange:e=>{A({...E,daysPerWeek:e.target.value})},children:[(0,a.jsx)(y.Z,{value:1,children:"One"}),(0,a.jsx)(y.Z,{value:2,children:"Two"}),(0,a.jsx)(y.Z,{value:3,children:"Three"}),(0,a.jsx)(y.Z,{value:4,children:"Four"}),(0,a.jsx)(y.Z,{value:5,children:"Five"}),(0,a.jsx)(y.Z,{value:6,children:"Six"}),(0,a.jsx)(y.Z,{value:7,children:"Seven"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"MinutesPerWorkout",children:"Minutes per Workout"}),(0,a.jsxs)(p.Z,{labelId:"MinutesPerWorkout",id:"minutesPerWorkout",name:"minutesPerWorkout",value:E.minutesPerWorkout,label:"Minutes per Workout",onChange:e=>{A({...E,minutesPerWorkout:e.target.value})},children:[(0,a.jsx)(y.Z,{value:15,children:"15 minutes"}),(0,a.jsx)(y.Z,{value:30,children:"30 minutes"}),(0,a.jsx)(y.Z,{value:60,children:"1 hour"}),(0,a.jsx)(y.Z,{value:90,children:"1 hour and 30 minutes"}),(0,a.jsx)(y.Z,{value:120,children:"2 hours"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"workoutLocation",children:"Workout Location"}),(0,a.jsxs)(p.Z,{labelId:"workoutLocation",id:"workoutLocation",name:"workoutLocation",value:E.workoutLocation,label:"Workout Location",onChange:e=>{A({...E,workoutLocation:e.target.value})},children:[(0,a.jsx)(y.Z,{value:"gym",children:"GYM"}),(0,a.jsx)(y.Z,{value:"home",children:"Home"}),(0,a.jsx)(y.Z,{value:"outdoor",children:"Outdoor"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{value:"includeWarmup",control:(0,a.jsx)(P.Z,{checked:E.includeWarmup,onChange:e=>{A({...E,includeWarmup:e.target.checked})},name:"includeWarmup",color:"primary"}),label:"Include Warmup",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{value:"includeStreching",control:(0,a.jsx)(P.Z,{checked:E.includeStreching,onChange:e=>{A({...E,includeStreching:e.target.checked})},name:"includeStreching",color:"primary"}),label:"Include Streching",labelPlacement:"end"})})]})});case 2:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"vegan",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.vegan,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,vegan:e.target.checked}})},name:"vegan",color:"primary"}),label:"Vegan",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"vegetarian",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.vegetarian,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,vegetarian:e.target.checked}})},name:"vegetarian",color:"primary"}),label:"Vegetarian",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"pescatarian",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.pescatarian,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,pescatarian:e.target.checked}})},name:"pescatarian",color:"primary"}),label:"Pescatarian",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"glutenFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.glutenFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,glutenFree:e.target.checked}})},name:"glutenFree",color:"primary"}),label:"Gluten Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"dairyFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.dairyFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,dairyFree:e.target.checked}})},name:"dairyFree",color:"primary"}),label:"Dairy Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"nutFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.nutFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,nutFree:e.target.checked}})},name:"nutFree",color:"primary"}),label:"Nut Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"soyFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.soyFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,soyFree:e.target.checked}})},name:"soyFree",color:"primary"}),label:"Soy Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"eggFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.eggFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,eggFree:e.target.checked}})},name:"eggFree",color:"primary"}),label:"Egg Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"shellfishFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.shellfishFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,shellfishFree:e.target.checked}})},name:"shellfishFree",color:"primary"}),label:"Shellfish Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"lactoseFree",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.lactoseFree,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,lactoseFree:e.target.checked}})},name:"lactoseFree",color:"primary"}),label:"Lactose Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"kosher",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.kosher,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,kosher:e.target.checked}})},name:"kosher",color:"primary"}),label:"Kosher",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"halal",control:(0,a.jsx)(P.Z,{checked:E.dietaryRestrictions.halal,onChange:e=>{A({...E,dietaryRestrictions:{...E.dietaryRestrictions,halal:e.target.checked}})},name:"halal",color:"primary"}),label:"Halal",labelPlacement:"end"})})]})});case 3:return(0,a.jsxs)(c.Z,{sx:{mt:2,mb:1,color:"black"},children:["All steps completed - you're finished. ",(0,a.jsx)("br",{}),"Are you sure you want to submit?"]});case 4:return(0,a.jsx)(n.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",textAlign:"center"},children:M?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Z,{size:50}),(0,a.jsx)(c.Z,{sx:{mt:2,color:"black"},children:"Creating workout plan..."})]}):B?"Error":""})}})(L)}),(0,a.jsxs)(n.Z,{display:"flex",flexDirection:"row",pt:2,children:[(0,a.jsx)(o.Z,{className:"buttonBack",onClick:()=>{if(t&&1===L){H(!0);return}0===L&&e.push("/"),G(e=>e-1)},disabled:q||M||z,sx:{marginTop:"3px",marginBottom:"2px",backgroundColor:"#d1d1d1",color:"black","&:hover":{backgroundColor:"#e1e1e1"}},children:"Back"}),(0,a.jsx)(n.Z,{flex:"1 1 auto"}),(0,a.jsx)(o.Z,{className:"buttonNext",onClick:K,disabled:q||M,sx:{marginTop:"3px",marginBottom:"2px",backgroundColor:"#4e2a84",color:"white","&:hover":{backgroundColor:"#645394"}},children:L===I.length-1?"Finish":L===I.length?"Submit":"Next"})]})]})]})})]})}}},function(e){e.O(0,[874,433,909,13,538,300,174,590,971,23,744],function(){return e(e.s=52482)}),_N_E=e.O()}]);