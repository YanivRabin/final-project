(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{52482:function(e,t,r){Promise.resolve().then(r.bind(r,54218))},48601:function(e,t,r){"use strict";var a=r(57437);r(2265);var i=r(23983);r(12378),t.Z=e=>{let{label:t,value:r,onChange:n,type:l="text",autoComplete:s="off"}=e;return(0,a.jsx)("div",{className:"textFieldContainer",children:(0,a.jsx)(i.Z,{margin:"normal",fullWidth:!0,label:t,value:r,onChange:n,type:l,autoComplete:s,className:"customTextField"})})}},85051:function(e,t,r){"use strict";r.d(t,{N_:function(){return d},OE:function(){return s},WC:function(){return c},YA:function(){return l},iJ:function(){return n},yd:function(){return o}});var a=r(8507),i=r(36074);let n=(0,a.LC)({reducerPath:"authApi",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,a=localStorage.getItem("accessToken");return a&&e.set("authorization","Bearer ".concat(a)),e}}),endpoints:e=>({login:e.mutation({query:e=>({url:"/api/auth/login",method:"POST",body:e})}),signUp:e.mutation({query:e=>({url:"/api/auth/register",method:"POST",body:e})}),googleSignIn:e.mutation({query:e=>({url:"/api/auth/google",method:"POST",body:e})}),getWorkoutForUser:e.query({query:()=>"/api/auth/workout"}),getGoogleApiKey:e.query({query:()=>"/api/auth/googleApiKey"})})}),{useLoginMutation:l,useSignUpMutation:s,useGoogleSignInMutation:o,useGetWorkoutForUserQuery:c,useGetGoogleApiKeyQuery:d}=n},79332:function(e,t,r){"use strict";r.d(t,{Ux:function(){return l},kD:function(){return s},tX:function(){return n}});var a=r(8507),i=r(36074);let n=(0,a.LC)({reducerPath:"feedApi",baseQuery:(0,i.ni)({baseUrl:"http://localhost:3001",prepareHeaders:(e,t)=>{let{getState:r}=t,a=localStorage.getItem("accessToken");return a&&e.set("authorization","Bearer ".concat(a)),e}}),endpoints:e=>({createWorkoutPlan:e.mutation({query:e=>({url:"/api/gemini/create-workout",method:"POST",body:e})}),updateUser:e.mutation({query:e=>({url:"/api/auth/updateUser",method:"PUT",body:e})})})}),{useCreateWorkoutPlanMutation:l,useUpdateUserMutation:s}=n},54218:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(57437),i=r(2265),n=r(91326),l=r(65002),s=r(29889),o=r(76548),c=r(80511),d=r(58433),u=r(62197),h=r(20124),m=r(94565),x=r(18918),g=r(28743),j=r(44908),Z=r(28549),y=r(94893),p=r(91651),k=r(56065),b=r(45174),P=r(91236),v=r(11929),f=r(48601),w=r(55734),F=r(40468),C=r(16463),S=r(85051),W=r(79332);r(2750);let R=["Sign Up","Personal Info","Dietary Restrictions"];function N(){let e=(0,C.useRouter)(),[t,r]=i.useState(""),[N,I]=i.useState(0),[L,G]=i.useState(""),[O,T]=i.useState({firstName:"",lastName:"",email:"",password:"",gender:"",age:25,height:175,weight:70,workoutGoals:" ",daysPerWeek:0,minutesPerWorkout:0,workoutLocation:" ",includeWarmup:!1,includeStreching:!1,dietaryRestrictions:{vegan:!1,vegetarian:!1,pescatarian:!1,glutenFree:!1,dairyFree:!1,nutFree:!1,soyFree:!1,eggFree:!1,shellfishFree:!1,lactoseFree:!1,kosher:!1,halal:!1,other:""},tokens:[]}),[E,{isLoading:A,isError:B}]=(0,S.OE)(),[U,{isLoading:q,data:D}]=(0,W.Ux)(),[M,_]=i.useState(!1),z=e=>{T(t=>({...t,[e.target.name]:e.target.value}))};(0,i.useEffect)(()=>{{let e=localStorage.getItem("email"),t=localStorage.getItem("password"),a=localStorage.getItem("firstName"),i=localStorage.getItem("lastName");e&&t&&a&&i&&(r(e),I(1),T({...O,email:e,password:t,firstName:a,lastName:i}),G(t))}},[]);let H=async()=>{if(M&&_(!1),0===N&&O.password!==L){alert("Passwords do not match");return}if(0===N&&O.password.length<6){alert("Password must be at least 6 characters long");return}if(0===N&&-1===O.email.indexOf("@")){alert("Invalid email");return}if(0===N&&(""===O.firstName||""===O.lastName||""===O.email||""===O.password)||1===N&&(""===O.gender||" "===O.workoutGoals||" "===O.workoutLocation||0===O.daysPerWeek||0===O.minutesPerWorkout)){alert("Please fill in all fields");return}if(N===R.length)try{J()}catch(e){if(console.error("Login error:",e),t){I(1);return}I(0);return}I(e=>e+1)},J=async()=>{try{let t;let{user:r,accessToken:a}=await E(O).unwrap();for(void 0!==window&&(localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("accessToken",a));!t;)t=await U(r).unwrap();void 0!==window&&(localStorage.setItem("workoutPlan",JSON.stringify(t)),localStorage.getItem("firstName")&&localStorage.removeItem("firstName"),localStorage.getItem("lastName")&&localStorage.removeItem("lastName"),localStorage.getItem("email")&&localStorage.removeItem("email"),localStorage.getItem("password")&&localStorage.removeItem("password")),e.push("/home")}catch(e){console.error("Sign up error:",e),I(0)}};return(0,a.jsxs)(n.Z,{className:"mainContainer",children:[(0,a.jsx)(h.ZP,{}),(0,a.jsx)(u.Z,{component:"main",maxWidth:"xs",children:(0,a.jsxs)(n.Z,{className:"outerBox",children:[(0,a.jsx)(l.Z,{className:"stepper",activeStep:N,connector:(0,a.jsx)(m.Z,{}),children:R.map((e,t)=>(0,a.jsx)(s.Z,{className:"step",children:(0,a.jsx)(w.Z,{className:"stepLabel",children:e})},e))}),(0,a.jsxs)(n.Z,{mt:3,children:[(0,a.jsx)(n.Z,{mt:2,mb:1,children:(e=>{switch(e){case 0:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(f.Z,{label:"First Name",value:O.firstName,onChange:e=>{T({...O,firstName:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(f.Z,{label:"Last Name",value:O.lastName,onChange:e=>{T({...O,lastName:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Email Address",value:O.email,onChange:e=>{T({...O,email:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Password",value:O.password,onChange:e=>{T({...O,password:e.target.value})}})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(f.Z,{label:"Password Confirmation",value:L,onChange:e=>G(e.target.value)})})]})});case 1:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(Z.Z,{children:(0,a.jsxs)(g.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"gender",value:O.gender,id:"gender",onChange:z,children:[(0,a.jsx)(j.Z,{value:"male",control:(0,a.jsx)(x.Z,{}),label:"Male"}),(0,a.jsx)(j.Z,{value:"female",control:(0,a.jsx)(x.Z,{}),label:"Female"})]})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-age",gutterBottom:!0,children:"Age"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:O.age,onChange:(e,t)=>{T({...O,age:t})},"aria-labelledby":"input-slider-age",name:"age",min:0,max:100})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(P.Z,{value:O.age,size:"small",onChange:z,name:"age",inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider-age"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-height",gutterBottom:!0,children:"Height in cm"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:O.height,onChange:(e,t)=>{T({...O,height:t})},"aria-labelledby":"input-slider-height",name:"height",min:0,max:250})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(P.Z,{value:O.height,size:"small",onChange:z,name:"height",inputProps:{step:1,min:0,max:250,type:"number","aria-labelledby":"input-slider-height"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(n.Z,{sx:{width:"95%"},children:[(0,a.jsx)(c.Z,{id:"input-slider-weight",gutterBottom:!0,children:"Weight in kg"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,a.jsx)(d.ZP,{item:!0,xs:!0,children:(0,a.jsx)(b.ZP,{value:O.weight,onChange:(e,t)=>{T({...O,weight:t})},"aria-labelledby":"input-slider-weight",name:"weight",min:0,max:250})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(P.Z,{value:O.weight,size:"small",onChange:z,name:"weight",inputProps:{step:1,min:0,max:250,type:"number","aria-labelledby":"input-slider-weight"},style:{width:30}})})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"WorkoutGoals",children:"Workout Goals"}),(0,a.jsxs)(y.Z,{labelId:"WorkoutGoals",id:"workoutGoals",value:O.workoutGoals,name:"workoutGoals",label:"Workout Goals",onChange:e=>{T({...O,workoutGoals:e.target.value})},children:[(0,a.jsx)(p.Z,{value:"Stay in Shape",children:"Stay in Shape"}),(0,a.jsx)(p.Z,{value:"Muscle Gain",children:"Muscle Gain"}),(0,a.jsx)(p.Z,{value:"Caloric Deficit",children:"Caloric Deficit"}),(0,a.jsx)(p.Z,{value:"Flexibility",children:"Flexibility"}),(0,a.jsx)(p.Z,{value:"Endurance",children:"Endurance"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"daysPerWeek",children:"Days per Week"}),(0,a.jsxs)(y.Z,{labelId:"daysPerWeek",id:"daysPerWeek",name:"daysPerWeek",value:O.daysPerWeek,label:"Days per Week",onChange:e=>{T({...O,daysPerWeek:e.target.value})},children:[(0,a.jsx)(p.Z,{value:1,children:"One"}),(0,a.jsx)(p.Z,{value:2,children:"Two"}),(0,a.jsx)(p.Z,{value:3,children:"Three"}),(0,a.jsx)(p.Z,{value:4,children:"Four"}),(0,a.jsx)(p.Z,{value:5,children:"Five"}),(0,a.jsx)(p.Z,{value:6,children:"Six"}),(0,a.jsx)(p.Z,{value:7,children:"Seven"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"MinutesPerWorkout",children:"Minutes per Workout"}),(0,a.jsxs)(y.Z,{labelId:"MinutesPerWorkout",id:"minutesPerWorkout",name:"minutesPerWorkout",value:O.minutesPerWorkout,label:"Minutes per Workout",onChange:e=>{T({...O,minutesPerWorkout:e.target.value})},children:[(0,a.jsx)(p.Z,{value:15,children:"15 minutes"}),(0,a.jsx)(p.Z,{value:30,children:"30 minutes"}),(0,a.jsx)(p.Z,{value:60,children:"1 hour"}),(0,a.jsx)(p.Z,{value:90,children:"1 hour and 30 minutes"}),(0,a.jsx)(p.Z,{value:120,children:"2 hours"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(Z.Z,{fullWidth:!0,children:[(0,a.jsx)(k.Z,{id:"workoutLocation",children:"Workout Location"}),(0,a.jsxs)(y.Z,{labelId:"workoutLocation",id:"workoutLocation",name:"workoutLocation",value:O.workoutLocation,label:"Workout Location",onChange:e=>{T({...O,workoutLocation:e.target.value})},children:[(0,a.jsx)(p.Z,{value:"gym",children:"GYM"}),(0,a.jsx)(p.Z,{value:"home",children:"Home"}),(0,a.jsx)(p.Z,{value:"outdoor",children:"Outdoor"})]})]})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{value:"includeWarmup",control:(0,a.jsx)(v.Z,{checked:O.includeWarmup,onChange:e=>{T({...O,includeWarmup:e.target.checked})},name:"includeWarmup",color:"primary"}),label:"Include Warmup",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{value:"includeStreching",control:(0,a.jsx)(v.Z,{checked:O.includeStreching,onChange:e=>{T({...O,includeStreching:e.target.checked})},name:"includeStreching",color:"primary"}),label:"Include Streching",labelPlacement:"end"})})]})});case 2:return(0,a.jsx)(n.Z,{sx:{mt:3},children:(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"vegan",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.vegan,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,vegan:e.target.checked}})},name:"vegan",color:"primary"}),label:"Vegan",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"vegetarian",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.vegetarian,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,vegetarian:e.target.checked}})},name:"vegetarian",color:"primary"}),label:"Vegetarian",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"pescatarian",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.pescatarian,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,pescatarian:e.target.checked}})},name:"pescatarian",color:"primary"}),label:"Pescatarian",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"glutenFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.glutenFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,glutenFree:e.target.checked}})},name:"glutenFree",color:"primary"}),label:"Gluten Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"dairyFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.dairyFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,dairyFree:e.target.checked}})},name:"dairyFree",color:"primary"}),label:"Dairy Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"nutFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.nutFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,nutFree:e.target.checked}})},name:"nutFree",color:"primary"}),label:"Nut Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"soyFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.soyFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,soyFree:e.target.checked}})},name:"soyFree",color:"primary"}),label:"Soy Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"eggFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.eggFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,eggFree:e.target.checked}})},name:"eggFree",color:"primary"}),label:"Egg Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"shellfishFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.shellfishFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,shellfishFree:e.target.checked}})},name:"shellfishFree",color:"primary"}),label:"Shellfish Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"lactoseFree",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.lactoseFree,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,lactoseFree:e.target.checked}})},name:"lactoseFree",color:"primary"}),label:"Lactose Free",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"kosher",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.kosher,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,kosher:e.target.checked}})},name:"kosher",color:"primary"}),label:"Kosher",labelPlacement:"end"})}),(0,a.jsx)(d.ZP,{item:!0,xs:6,children:(0,a.jsx)(j.Z,{value:"halal",control:(0,a.jsx)(v.Z,{checked:O.dietaryRestrictions.halal,onChange:e=>{T({...O,dietaryRestrictions:{...O.dietaryRestrictions,halal:e.target.checked}})},name:"halal",color:"primary"}),label:"Halal",labelPlacement:"end"})})]})});case 3:return(0,a.jsxs)(c.Z,{sx:{mt:2,mb:1,color:"black"},children:["All steps completed - you're finished. ",(0,a.jsx)("br",{}),"Are you sure you want to submit?"]});case 4:return(0,a.jsx)(n.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",textAlign:"center"},children:q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.Z,{size:50}),(0,a.jsx)(c.Z,{sx:{mt:2,color:"black"},children:"Creating workout plan..."})]}):B?"Error":""})}})(N)}),(0,a.jsxs)(n.Z,{display:"flex",flexDirection:"row",pt:2,children:[(0,a.jsx)(o.Z,{className:"buttonBack",onClick:()=>{if(t&&1===N){_(!0);return}0===N&&e.push("/"),I(e=>e-1)},disabled:A||q||M,sx:{marginTop:"3px",marginBottom:"2px",backgroundColor:"#d1d1d1",color:"black","&:hover":{backgroundColor:"#e1e1e1"}},children:"Back"}),(0,a.jsx)(n.Z,{flex:"1 1 auto"}),(0,a.jsx)(o.Z,{className:"buttonNext",onClick:H,disabled:A||q,sx:{marginTop:"3px",marginBottom:"2px",backgroundColor:"#4e2a84",color:"white","&:hover":{backgroundColor:"#645394"}},children:N===R.length-1?"Finish":N===R.length?"Submit":"Next"})]})]})]})})]})}},12378:function(){},2750:function(){}},function(e){e.O(0,[531,874,433,909,13,538,300,174,590,971,23,744],function(){return e(e.s=52482)}),_N_E=e.O()}]);